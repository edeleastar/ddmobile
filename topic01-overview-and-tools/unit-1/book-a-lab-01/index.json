{"type":"lab","chapters":[{"title":"#Objectives","shortTitle":"Lab-01","contentMd":"#Objectives\n\nHere we discuss how to install and set up effective tools for Android application development. These include the Android Studio IDE  + an emulator. We'll also create a simple Android App (HelloWorld), and be able to manage it within the Android Studio environment.\n"},{"title":"#Android Studio & SDK Tools","shortTitle":"01","contentMd":"#Android Studio & SDK Tools\n\n##Instructions for working in Walton Building PC Labs:\n\nIf you are working on the workstations in WIT in the IT Building, Android Studio should already be installed so proceed with the next step of the lab.\n\n##Instructions for working on your own laptop\n\nDownload and install Android Studio from\n\n - <https://developer.android.com/sdk/index.html>\n\nSelect the correct version for your OS. The primary prerequisite for installing Android Studio is that you have a recent Java installation on your workstation. To see if you have Java, and to install it if you do not, visit:\n\n - <http://www.java.com>\n\nAndroid Studio looks after downloading the Android SDK for you but you can download and install the Android SDK separately from\n\n- <https://developer.android.com/sdk/installing/index.html>\n\nThis download is actually the SDK Manager (not the full SDK), where you can choose which versions of the Android platform you want to install & develop with - select <b>anything above API 21 (Version 5.0)</b>. (But I'd leave out all the TV and Wearable stuff :) ) \n\nNOTE : these downloads are quite large so it's advisable to have these versions installed <b>BEFORE</b> class.\n\n![Figure 1: Android SDK](img/sdk.png)"},{"title":"#Your First Android Project - \"HelloWorld\"","shortTitle":"02","contentMd":"#Your First Android Project - \"HelloWorld\"\n\nIn Android Studio, select File->New->New Project, or if it's a first run, select \"Start a new Android Studio Project\"\n\n![Figure 1: Start a new Android Studio project](img/firstrun.png)\n\nPress \"Next\" (or click the option) and then give the project a name: 'HelloWorld'\n\nIt's recommended you change the default package name also and it's probably worth changing the Project Location too but you can take the default for the moment.\n\n![Figure 2: Change default project name to HelloWorld, provide a company domain and project location](img/new01.png)\n\nSelect the Platform(s) you want your app to run on - we'll just stick with Phone & Tablet and choose an appropriate Minimum SDK.\n\n![Figure 3: Set the form factors](img/new02.png)\n\nYou should choose an Empty Activity as your activity type on the next screen\n\n![Figure 4: Select Empty Acivity template](img/new03.png)\n\nand name it as in the screenshot below\n\n![Figure 5: Change default settings to HelloWorldActivity in Customize the Activity screen](img/new04.png)\n\nAfter you press \"Finish\", you should now have something similar to the following:\n\n![Figure 6: Project open in Layout View](img/new05.png)\n\nNOTE : if your project fails to build correctly, you may have a Gradle error like below\n\n![Figure 6.1: Gradle Build Error in Project](img/error1.png)\n\nTo fix this, you need to open your <b>Module</b> (NOT Project) build.gradle file and change the build version from 26.1.0 to 26.0.2, as below\n\n![Figure 6.2: FIX for Gradle Build Error in Project](img/error1.png)\n\nNext, as an exercise, select File->Close Project, to close the project so we can import it again.\n\nIf no other Projects are open you will be displayed with\n\n![Figure 7: Open Existing Project](img/new06.png)\n\nSo, you can either\n\n1. Select the project from the **Recent Projects** List (on the left) or, if the project you want isn't in the List\n2. Import the project, so, select \"Open an Existing Android Project\" and navigate to the Project folder where you android app is stored (like <b>'HelloWorld'</b> below)\n\n![Figure 8: Select Project Folder to reopen](img/new07.png)\n\nOnce the project is open again, familiarise yourself with the project layout - the initial xml layout or \"screen\" is first displayed, this is one of the many resources you will be using and creating throughout this module. We will experiment later with modifying this layout, but first you should run the application.\n\nSelect the Project (HelloWorld) and then select the 'Play' button as below\n\n![Figure 9: Select Play to Run app](img/new08.png)\n\nIf you haven't done so already, you will be asked to select/create an AVD (Android Virtual Device), as follows:\n\n![Figure 10: Select Hardware (Nexus 4 here)](img/avd01.png)\n\nand\n\n![Figure 11: Select System Image](img/avd02.png)\n\nand\n\n![Figure 12: Verify AVD Configuration](img/avd03.png)\n\nand\n\n![Figure 13: List of AVDs currently available](img/avd04.png)\n\n<b>The Virtual Device is very heavy on resources so you may need to choose settings below what is selected in the Screenshots.</b>\n\nOtherwise, use the settings as above and your first Android App should launch, (Once you've unlocked the device!):\n"},{"title":"#Our version of \"HelloWorld\"","shortTitle":"03","contentMd":"#Our version of \"HelloWorld\"\n\nIn this Step, you will be required to develop and run your own version of the \"Hello World\" Android Project (as seen below).\n\n![Figure 1: Completed App running in Emulator](img/lab01.png)\n\nIf you've deleted your HelloWorld Project, launch Android Studio (if it's not already open) and create a new Android Project called <b>HelloWorld</b> similar to what you did in Step 02.\n\nIf you haven't deleted the project, you can just continue on.\n\nName your package 'ie.wit' (like you did before). Choose a <b>Basic</b> Activity and rename as before. It's recommended you select <b>Android 6.0</b> as the launch target platform (but any target will suffice for this particular lab). It's also probably a good idea to run the App at this stage, so you can set up your Virtual Device (if you haven't done so already).\n\nEdit your \"strings.xml\" file (in your res folder) and add the following \"resources\" - be careful if you have created an app which contains a 'menu' folder, this also includes associated resources, so don't overwrite those resources, just add our ones at the end.\n\n```\n    <string name=\"window_text\">Press the button below to receive a friendly greeting from Android.</string>\n    <string name=\"button_label\">Show Greeting</string>\n    <string name=\"greeting_text\">Hello from Android!</string>\n```\n\nYour completed strings.xml (with menu resources) should look like this\n```\n<resources>\n    <string name=\"app_name\">HelloWorld</string>\n    <string name=\"action_settings\">Settings</string>\n\n    <string name=\"window_text\">Press the button below to receive a friendly greeting from Android.</string>\n    <string name=\"button_label\">Show Greeting</string>\n    <string name=\"greeting_text\">Hello from Android!</string>\n```\n\nIf you choose \"open editor\" you can see the graphical representation of the String resources you have set up (and edit them here if you need to).\n\n![Figure 1: String resources in Translations Editor](img/lab02.png)\n\n\nNow, edit your \"content_hello_world.xml\" <b><u>NOT</u></b> your \"activity_hello_world.xml\" in your <u><i>**layout**</i></u> folder and replace your <b>TextView</b> with the following - make sure your in 'Text' view and not 'Design' view window (so you can see the xml).\n\n```\n<TextView\n        android:id=\"@+id/textView1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"80dp\"\n        android:gravity=\"center\"\n        android:text=\"@string/window_text\"\n        android:textAppearance=\"?android:attr/textAppearanceMedium\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" />\n\n    <Button\n        android:id=\"@+id/greetingButton\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginBottom=\"170dp\"\n        android:onClick=\"showGreeting\"\n        android:text=\"@string/button_label\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\" />\n```\n\nThis will give you the following layout (once you select 'Design View' again):\n\n![Figure 3: Updated Activity Layout with TextView and Button widgets](img/lab03.png)\n\nNote how the widgets are 'anchored' to the layout border - this ensures that our button and textview display correctly on the layout at runtime.\n\n![Figure 4: Anchored TextView and Button widgets](img/anchored.png)\n\nOnce again, it's worth running the app at this point to confirm everything is displayed the way we want it. If you click the button, your app will probably crash - we don't have our <b>showGreeting()</b> method implemented yet.\n\nSo, the last thing we need to do is add in our event handling code so that a short message is displayed when the user presses the 'Show Greeting' button.\n\nFirstly, open up the **HelloWorldActivity.java** source file and add the following method <b>BEFORE</b> the last closing brace\n\n```\npublic void showGreeting(View v) {\n        String greetingText = getString(R.string.greeting_text);\n        Toast.makeText(this, greetingText, Toast.LENGTH_LONG).show();\n    }\n```\n\nYou'll get a few compiler errors due to missing imports, so try and fix those.\n\nNote that we have no need for some kind of Listener interface (ala swing development) - our event handling is taken care of via the ***onClick*** attribute in our xml layout, here's what your completed **HelloWorldActivity** class should look like, including Floating Action Button and Menu support.\n\n```\npackage ie.wit.helloworld;\n\nimport android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.design.widget.Snackbar;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.Toolbar;\nimport android.view.View;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\npublic class HelloWorldActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_hello_world);\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                        .setAction(\"Action\", null).show();\n            }\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_hello_world, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n    public void showGreeting(View v) {\n        String greetingText = getString(R.string.greeting_text);\n        Toast.makeText(this, greetingText, Toast.LENGTH_LONG).show();\n    }\n\n}\n```\nSo when you run your app again you should see something like this when you click the 'Show Greeting' button.\n\n\n![Figure 5: Completed App running in Emulator with Button clicked](img/lab04.png)\n\nWe will investigate this code more closely in the lectures.\n"},{"title":"#Exercises","shortTitle":"04","contentMd":"#Exercises\n\n**Working with Resources**\n\n - Just to get used to adding and editing resources, create a new button for our main layout, and try and 'hook it up' to a new string resource message to display to the user.\n\n**UI Design**\n\n- Have a look at adding in a new colour resource and changing the default colour scheme for the layout.  \n"}]}